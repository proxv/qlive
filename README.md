# Qlive

Qlive is rack middleware for running qunit javascript tests against a live server.
It is mainly intended to be used for testing javascript-heavy, single-page web applications
(like those built using backbone, angularjs, emberjs, etc.)

Qlive inserts the qunit framework and your test sources into the page's response.
Qlive provides hooks for setting server state before the request is processed by your app, so you can
do things like popuplate content with your favorite fixtures library (like factory_girl) and log in a user for the qunit test page.


## Benefits:

* Precisely set fixture content and user login state for your qunit tests
* Insert qunit tests and any custom html into live pages generated by your server
* Run the same qunit tests in a browser or headlessly, alongside your normal integration test suite. (When used with Ruby on Rails and the [qlive-headless](https://github.com/proxv/qlive-headless) gem.)


## Installation

### Ruby on Rails

If you are using Ruby on Rails, you should use one of these gems:

* [qlive-rails](https://github.com/proxv/qlive-rails). Configures most of qlive for you and provides an index page linking to your test suites.
* [qlive-headless](https://github.com/proxv/qlive-headless). Run your qunit tests headlessly as part of your rspec or test suite. (Builds on qlive-rails.)


### Non-rails:

* Configure base path, the top of the directory tree that contains your qlive suites. (See suites section below)
    <pre>Qlive.setup[:base_path] = /absolute/path/to/qunit/tests/tree</pre>
* Configure url prefix for serving your test sources in this tree.
    * The default is /qlive/sources.
    * So a request to /qlive/sources/my_suite/test-stuff.js would need to resolve to #{base_path}/my_suite/test-stuff.js
* Mount Qlive::Rack late enough for it to access the database or whatever else the suite needs for preparing page state

todo: improve/complete non-rails instructions should anyone want to use it.


## Usage

See [suites wiki page](https://github.com/proxv/qlive/wiki/qlive-suites).

